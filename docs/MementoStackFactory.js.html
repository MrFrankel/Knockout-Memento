<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: MementoStackFactory.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: MementoStackFactory.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>ï»¿/**
 * MementoStackFactory is the creator and manager for mementos stacks, it is responsible for creating stacks, destroying them and also acts as an entry point to the
 * @name Memento Stack Factory
 * @namespace ko
 */
ko.msf = (function () {
    var mStacks = [];       //Array of stacks in the system

    /**
   * returns the array of stacks
   * @namespace ko.msf
   * @returns {Array}
   */
    var getMStacks = function(){
        return mStacks;
    };

    /**
     * Cleares all stacks in the system
     */
    var purgeMStacks = function(){
        mStacks.forEach(function(stack){
            stack.clearForGc();
        });
        mStacks.length = 0;
    };

    /**
     * Creates a new stack and returns it
     * @param options set of stack options
     * @returns {ko.msf.mStack}
     */
    var createNewMStack = function(options){
        var newStack = new ko.msf.mStack(options);
        mStacks.push(newStack);
        return newStack;

    };

    /**
     * Destroys a given stack
     * @param stack
     * @returns {boolean}
     */
    var killMStack = function(stack){
        var indexOf = mStacks.indexOf(stack);
        if (indexOf == -1)
            return false;
        stack.clearForGc();
        mStacks.splice(indexOf, 1);
        return true;
    };

    /**
     * Returns the first stack in the list, createts one if non have been created before
     * @returns {ko.msf.ms}
     */
    var getDefaultStack = function(){
        if(mStacks.length > 0)
            return mStacks[0];
        else
            return createNewMStack();
    };

    //API
    return {
        getMStacks:getMStacks,
        killMStack:killMStack,
        purgeMStacks:purgeMStacks,
        getDefaultStack:getDefaultStack,
        createNewMStack:createNewMStack
    };
})();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ko.msf.ErrorHandler.html">ErrorHandler</a></li><li><a href="ko.msf.mStack.html">mStack</a></li><li><a href="ko.msf.mStack.Memento.html">Memento</a></li></ul><h3>Namespaces</h3><ul><li><a href="ko.html">ko</a></li><li><a href="ko.msf.html">msf</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue Jan 07 2014 10:47:29 GMT+0200 (IST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
